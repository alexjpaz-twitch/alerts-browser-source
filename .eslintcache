[{"/Users/apaz/code/github.com/alexjpaz-twitch/alerts/src/reportWebVitals.js":"1","/Users/apaz/code/github.com/alexjpaz-twitch/alerts/src/App.js":"2","/Users/apaz/code/github.com/alexjpaz-twitch/alerts/src/index.js":"3"},{"size":362,"mtime":1607713151263,"results":"4","hashOfConfig":"5"},{"size":1705,"mtime":1607789215228,"results":"6","hashOfConfig":"5"},{"size":500,"mtime":1607713151262,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1mkgpdu",{"filePath":"10","messages":"11","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12"},{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/apaz/code/github.com/alexjpaz-twitch/alerts/src/reportWebVitals.js",[],"/Users/apaz/code/github.com/alexjpaz-twitch/alerts/src/App.js",["15","16"],"import { useEffect, useState } from 'react';\n\nimport logo from './logo.svg';\nimport './App.css';\nimport ComfyJS from 'comfy.js';\n\nfunction DebugHistory({ chat }) {\n\n  const [ items, setItems ] = useState([]);\n  const [ url, setUrl ] = useState(null);\n\n  useEffect(() => {\n    async function effect() {\n      if(!chat) {\n        return;\n      }\n\n      setItems(items => {\n        return [...items, chat];\n      });\n\n      const baseUrl = \"/media\";\n\n      let extensions = [\n        '/index.json',\n        'mp3',\n        'ogg',\n        'wav',\n      ];\n\n      let isMatched  = false;\n\n      let finalUrl;\n\n      while(!isMatched && extensions.length > 0) {\n        const ext = extensions.shift();\n\n        finalUrl = `${baseUrl}/${chat}.${ext}`;\n\n        let rsp;\n        try {\n          rsp = await fetch(finalUrl, { method: 'HEAD' });\n        } catch(e) {\n        }\n\n        if(rsp.ok) {\n          isMatched = true;\n        }\n      }\n\n      if(isMatched) {\n        console.log(`Match found for command ${chat}`);\n        setUrl(finalUrl);\n      }\n\n      if(!isMatched) {\n        console.log(`No media found for command ${chat}`);\n      }\n    }\n\n    effect();\n  }, [ chat ]);\n\n  return (\n    <div>\n      <pre>{ JSON.stringify(items, null, 2) }</pre>\n    </div>\n  );\n}\n\nfunction App() {\n\n  const [ chat, setChat ] = useState(null);\n\n  useEffect(() => {\n    ComfyJS.onCommand = ( user, command, message, flags, extra ) => {\n      setChat(command);\n    }\n    ComfyJS.onJoin = ( user, self, extra ) => {\n      console.log('join', user, self, extra);\n    };\n    ComfyJS.Init( \"alexjpaz\" );\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <DebugHistory chat={chat} />\n    </div>\n  );\n}\n\nexport default App;\n","/Users/apaz/code/github.com/alexjpaz-twitch/alerts/src/index.js",[],{"ruleId":"17","severity":1,"message":"18","line":3,"column":8,"nodeType":"19","messageId":"20","endLine":3,"endColumn":12},{"ruleId":"17","severity":1,"message":"21","line":10,"column":11,"nodeType":"19","messageId":"20","endLine":10,"endColumn":14},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'url' is assigned a value but never used."]